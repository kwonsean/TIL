# 211120(토)

# 오늘 공부한 것

- Let's get it JS 11, 12장

# 기억해야 할 것

## 11장

### 호출스택

- 동기함수인 경우 함수가 실행될때 호출스택으로 쌓이게 된다.
- 이때 함수 안에 또 다른 함수가 있다면 기존에 쌓였던 함수 위에 쌓이게 된다.
- 함수의 실행은 위에 쌓여있는 함수부터 순서대로 실행되게 된다.
- 함수의 실행은 오직 호출스택에 있을때에만 실행된다.

### 백그라운드

- 비동기 함수가 실행이 된 경우에는 백그라운드로 가게 된다.
- 여기서 준비가 다 된 함수는 태스크 큐로 들어가게 된다.

### 태스크 큐

- 들어온 순서대로 호출 스택으로 이동할 수 있다.
- 다만 임의로 이동하는 것이 아닌 이벤트 루프의 힘을 빌려 이동할 수 있게 된다.

### 이벤트 루프

- 호출스택이 비어있을 경우 태스크 큐에 가장 먼저 들어온 비동기 함수부터 하나씩 호출스택으로 이동시켜주는 역할을 한다.
- 만약 호출스택에 함수들이 있을 경우 이벤트 루프는 태스크 큐에서 함수를 가져오지 않는다.
  이러한 이유로 setTimeout을 0초로 해두어도 다른 모든 동기 함수들이 끝나고 나서야 실행이 된다.

## 12장

### 옵셔널 체이닝

- `?.` 앞에 있는 것이 참이면(존재하면) 뒤코드 마저 실행, 거짓이면(존재하지 않으면) 코드 결과를 undefined로 만든다.
- [https://ko.javascript.info/optional-chaining](https://ko.javascript.info/optional-chaining)
- 요약
  1. `obj?.prop` – `obj`가 존재하면 `obj.prop`을 반환하고, 그렇지 않으면 `undefined`를 반환함
  2. `obj?.[prop]` – `obj`가 존재하면 `obj[prop]`을 반환하고, 그렇지 않으면 `undefined`를 반환함
  3. `obj?.method()` – `obj`가 존재하면 `obj.method()`를 호출하고, 그렇지 않으면 `undefined`를 반환함

```jsx
const obj = {
  a: 'ok',
  pass() {
    console.log('obj pass')
  },
}
const obj1 = {}

const pass = () => {
  console.log('pass')
}

if (obj?.a) {
  pass() // pass
}

// 이건 obj1이 존재하니? -> 존재함!
// obj1에 a찾자 -> 없다.. undefined -> false
// 즉 ?.은 통과함
if (obj1?.a) {
  pass() // 아무일도 일어나지 않음
}

obj?.pass?.()
// obj 있냐? -> ㅇㅇ -> pass 메소드 있냐? -> ㅇㅇ -> 실행하거라
// obj pass

console.log(obj?.pass?.()) // undefined
console.log(obj1?.pass?.()) // undefined
// 둘다 undefined가 뜬다.
// 즉 옵셔널체이닝 자체의 결과값은 결국 undefined가 되는 듯하다.
```

- 현재까지 이해한 옵셔널 체이닝은 앞에 요소를 확인하고 있으면 넘어가고 없으면 undefined를 만들면서 값이 없을 경우의 에러를 예방하는 역할을 한다고 생각한다.
- 옵셔널 체이닝의 결과값을 boolen값으로 사용하는줄 알았는데 그런게 아닌 것 같다.
  아직 100%파악은 하지 못했다.

### 활용

- &&연산자와 같이 사용하여 if문 줄이기
- &&연산자는 두 값이 모두 true값이어야 true를 리턴한다. 따라서 만약 앞에 값이 false가 된다면 뒤에 코드를 실행하지 않고 종료한다. 이런 성질을 이용하여 if문을 줄일 수 있다.

```jsx
const obj = {
  a: "obj's a",
}
const obj1 = null

const pass = (x) => {
  console.log(x, ' pass')
}

if (obj?.a) {
  // 통과
  pass(obj.a) // obj's a  pass
}
if (obj1?.a) {
  // undefined -> 아무일도 일어나지 않음
  pass(obj.a)
}

obj?.a && pass(obj.a) // obj's a  pass
obj1?.a && pass(obj1.a) // 앞에가 틀렸으니 아무일도 일어나지 않음
```

# 정리

프로젝트하느라 미뤄왔던 JS책공부를 이번주말안에 마무리하려고 한다.
점점 뒤로 갈수록 내용이 어렵다.. 처음 보는 개념도 보이게 되고 게임의 구성도 복잡해져서 코드를 이해하기만 할뿐 처음으로 미션은 스스로 해결을 하지 못했다. 테이블을 중요하지 않다고 생각해서 넘어갔었는데 앞으로 남은 강에서 모두 테이블을 쓰기도하고.. 미니프로젝트하면서 여기저기 테이블이 쓰인걸 봐서 테이블도 한번 공부를 하는 시간을 가져야겠다.
